@model BulkyBook.Models.ViewModels.OrderConfirmationVM

@{
	ViewData["Title"] = "Order Confirmation";
}

<div class="container pt-4">
	<div class="card-header bg-light text-light ml-0">
		<div class="row">
			<div class="col-6 text-info pt-1">
				<i class="bi bi-cart"></i> &nbsp;
				<strong>Order Confirmation</strong>
			</div>
		</div>
	</div>
	<div class="card-body">
		<div class="rounded p-2">
			<div class="row">
				<div class="col-5">
					<div class="row">
						<h4 class="d-flex justify-content-between align-items-center mb-3">
							<span class="text-info">Order Details</span>
						</h4>
						<div class="col-12 pb-4">
							<div class="row card">
								<div class="row my-1">
									<div class="col-4">
										<label>ID</label>
									</div>
									<div class="col-8">
										<span class="text-black">#@Model.OrderHeader.Id</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>Order Date</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.OrderDate</span>
									</div>
								</div>

								@if (@Model.OrderHeader.PaymentDate != null)
								{
									<div class="row my-1">
										<div class="col-4">
											<label>Payment Date</label>
										</div>
										<div class="col-8">
											<span class="text-black">@Model.OrderHeader.PaymentDate</span>
										</div>
									</div>
								}

								@if (@Model.OrderHeader.TrackingNumber != null)
								{
									<div class="row my-1">
										<div class="col-4">
											<label>Tracking Number</label>
										</div>
										<div class="col-8">
											<span class="text-black">@Model.OrderHeader.TrackingNumber</span>
										</div>
									</div>
								}

								@if (@Model.OrderHeader.Carrier != null)
								{
									<div class="row my-1">
										<div class="col-4">
											<label>Carrier</label>
										</div>
										<div class="col-8">
											<span class="text-black">@Model.OrderHeader.Carrier</span>
										</div>
									</div>
								}

								@if (@Model.OrderHeader.ShippingDate != null)
								{
									<div class="row my-1">
										<div class="col-4">
											<label>Shipping Date</label>
										</div>
										<div class="col-8">
											<span class="text-black">@Model.OrderHeader.ShippingDate</span>
										</div>
									</div>
								}
							</div>
						</div>
					</div>
					<div class="row">
						<h4 class="d-flex justify-content-between align-items-center mb-3">
							<span class="text-info">Shipping Details</span>
						</h4>
						<div class="col-12 pb-4">
							<div class="row card">
								<div class="row my-1">
									<div class="col-4">
										<label>Name</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.Name</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>Street Address</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.StreetAddress</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>City</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.City</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>State</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.State</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>Postal Code</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.PostalCode</span>
									</div>
								</div>
								<div class="row my-1">
									<div class="col-4">
										<label>Phone</label>
									</div>
									<div class="col-8">
										<span class="text-black">@Model.OrderHeader.PhoneNumber</span>
									</div>
								</div>
							</div>
						</div>
					</div>
				</div>
				<div class="col-1">&nbsp;</div>
				<div class="col-6">
					<div class="row">
						<h4 class="d-flex justify-content-between align-items-center mb-3">
							<span class="text-info">Order Summary</span>
						</h4>
						<div class="col-12 pb-4">
							<div class="row">
								<ul class="list-group mb-3">
									@foreach(var item in Model.Items)
									{
										<li class="list-group-item d-flex justify-content-between">
											<div class="row">
												@{
													var image = Convert.ToBase64String(item.Product.Image);
												}
												<div class="d-none d-lg-block col-1 text-center py-2">
													<img src="data:image/jpeg;base64, @image" class="rounded" width="50" />
												</div>
												<div class="col-10 pt-2 px-5">
													<h6>@item.Product.Title</h6>
													<small class="text-muted">Quantity: @item.Quantity</small>
												</div>
											</div>
											<span class="text-muted">@item.FinalPrice.ToString("c")</span>
										</li>
									}

									<li class="list-group-item d-flex justify-content-between bg-light">
										<small class="text-info">Total (BRL)</small>
										<strong class="text-info">@Model.OrderHeader.OrderTotal.ToString("c")</strong>
									</li>
								</ul>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>
